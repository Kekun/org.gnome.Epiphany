From c8bc8d56a111ea8b49bfb46a8c69d12266836346 Mon Sep 17 00:00:00 2001
From: Adrien Plazas <kekun.plazas@laposte.net>
Date: Tue, 3 Nov 2020 19:40:08 +0100
Subject: [PATCH] data: List compatible form-factors

This will allow the app to be available in Phosh and PureOS Store.
---
 data/org.gnome.Epiphany.appdata.xml.in.in | 4 ++++
 data/org.gnome.Epiphany.desktop.in.in     | 2 ++
 2 files changed, 6 insertions(+)

diff --git a/data/org.gnome.Epiphany.appdata.xml.in.in b/data/org.gnome.Epiphany.appdata.xml.in.in
index 3790acf1f..0bc38e1da 100644
--- a/data/org.gnome.Epiphany.appdata.xml.in.in
+++ b/data/org.gnome.Epiphany.appdata.xml.in.in
@@ -67,4 +67,8 @@
     <release date="2019-08-05" version="3.33.90"/>
     <release date="2019-07-14" version="3.33.4"/>
   </releases>
+  <custom>
+    <value key="Purism::form_factor">workstation</value>
+    <value key="Purism::form_factor">mobile</value>
+  </custom>
 </component>
diff --git a/data/org.gnome.Epiphany.desktop.in.in b/data/org.gnome.Epiphany.desktop.in.in
index a0f272322..c41ea8947 100644
--- a/data/org.gnome.Epiphany.desktop.in.in
+++ b/data/org.gnome.Epiphany.desktop.in.in
@@ -13,6 +13,8 @@ Icon=@icon@
 Categories=Network;GNOME;GTK;WebBrowser;
 MimeType=text/html;text/xml;application/xhtml+xml;x-scheme-handler/http;x-scheme-handler/https;multipart/related;application/x-mimearchive;message/rfc822;
 Actions=new-window;Incognito;
+# Translators: Do NOT translate or transliterate this text (these are enum types)!
+X-Purism-FormFactor=Workstation;Mobile;
 
 [Desktop Action new-window]
 Name=New Window
-- 
2.28.0

